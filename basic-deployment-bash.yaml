# This is a basic VM Manager deployment template for the lacework agent.
# It utilizes the lacework agent's 'install.sh' binary to deploy intelligently based upon the operating system detected
# In this example, we deploy on all linux hosts located in us-east1 (South Carolina)

assignment:
  zones: #leaving this empty will apply to all zones

  osTypes:
  - osShortName: centos
  - osShortName: debian
  - osShortName: rhel
  - osShortName: sles
  - osShortName: ubuntu

recipes:
- name: lw-agent-install
  desiredState: INSTALLED
  installSteps:
  - scriptRun:
      script: |-
        #!/bin/bash
        agent_uri="https://lwint-se-mikelaramie.lacework.net/mgr/v1/download/2ce70843e1164c126231927e6633a1a7967822dc14b9fa5d059e921d/install.sh"
        sudo curl ${agent_uri} | sudo bash
